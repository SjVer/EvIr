\hypertarget{type_8hpp_source}{}\doxysection{type.\+hpp}
\label{type_8hpp_source}\index{include/ir/type.hpp@{include/ir/type.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//===-\/-\/-\/ ir/type.hpp -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ C++ -\/-\/-\/===}}
\DoxyCodeLine{2 \textcolor{comment}{// This header is part of the EvIr library}}
\DoxyCodeLine{3 \textcolor{comment}{// MIT License -\/ Sjoerd Vermeulen (2022)}}
\DoxyCodeLine{4 \textcolor{comment}{// For more info see https://github.com/SjVer/EvIr}}
\DoxyCodeLine{5 \textcolor{comment}{//===-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#ifndef EVIR\_IR\_TYPE\_H}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#define EVIR\_IR\_TYPE\_H}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include "{}evir/.common.hpp"{}}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{namespace }evir \{}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{keyword}{class }IntegerType;}
\DoxyCodeLine{15 \textcolor{keyword}{class }FloatType;}
\DoxyCodeLine{16 \textcolor{keyword}{class }PointerType;}
\DoxyCodeLine{17 \textcolor{keyword}{class }ArrayType;}
\DoxyCodeLine{18 \textcolor{keyword}{class }FunctionType;}
\DoxyCodeLine{19 }
\DoxyCodeLine{21 \textcolor{keyword}{class }\mbox{\hyperlink{classevir_1_1Type}{Type}}}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23 \textcolor{keyword}{protected}:}
\DoxyCodeLine{25 }
\DoxyCodeLine{26     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keyword}{enum} TypeID \{}
\DoxyCodeLine{27         TYPE\_INTEGER,}
\DoxyCodeLine{28         TYPE\_FLOAT,}
\DoxyCodeLine{29 }
\DoxyCodeLine{30         TYPE\_POINTER,}
\DoxyCodeLine{31         TYPE\_ARRAY,}
\DoxyCodeLine{32 }
\DoxyCodeLine{33         TYPE\_FUNCTION,}
\DoxyCodeLine{34 }
\DoxyCodeLine{35         TYPE\_none}
\DoxyCodeLine{36     \} type\_id = TYPE\_none;}
\DoxyCodeLine{37 }
\DoxyCodeLine{39 \textcolor{keyword}{public}:}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classevir_1_1Type}{Type}}\& rhs) = 0;}
\DoxyCodeLine{42     \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} \mbox{\hyperlink{classevir_1_1Type}{Type}}\& rhs) \{ \textcolor{keywordflow}{return} !operator==(rhs); \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{preprocessor}{    \#pragma region getters}}
\DoxyCodeLine{45 \textcolor{preprocessor}{    \#define GETTER(classname, lowercasename, ...) static classname* get\_\#\#lowercasename\#\#\_type(\_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{46 }
\DoxyCodeLine{48     GETTER(\mbox{\hyperlink{classevir_1_1IntegerType}{IntegerType}}, integer, \textcolor{keywordtype}{bool} is\_signed, uint64 bits\_count);}
\DoxyCodeLine{49 }
\DoxyCodeLine{51     GETTER(\mbox{\hyperlink{classevir_1_1FloatType}{FloatType}}, \textcolor{keywordtype}{float}, uint64 bits\_count);}
\DoxyCodeLine{52 }
\DoxyCodeLine{54     GETTER(\mbox{\hyperlink{classevir_1_1PointerType}{PointerType}}, pointer, \mbox{\hyperlink{classevir_1_1Type}{Type}}* subtype);}
\DoxyCodeLine{55 }
\DoxyCodeLine{57     GETTER(\mbox{\hyperlink{classevir_1_1FunctionType}{FunctionType}}, function, \mbox{\hyperlink{classevir_1_1Type}{Type}}* return\_type, Vector<Type*> params);}
\DoxyCodeLine{58 }
\DoxyCodeLine{59 \textcolor{preprocessor}{    \#undef GETTER}}
\DoxyCodeLine{60 \textcolor{preprocessor}{    \#pragma endregion}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 \textcolor{preprocessor}{    \#pragma region type id checks}}
\DoxyCodeLine{63 \textcolor{preprocessor}{    \#define TYPE\_CHECK\_MEMBER(lowercasename, type) \(\backslash\)}}
\DoxyCodeLine{64 \textcolor{preprocessor}{        bool is\_\#\#lowercasename\#\#\_type() \{ return type\_id == type; \}}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     TYPE\_CHECK\_MEMBER(integer, TYPE\_INTEGER);}
\DoxyCodeLine{67     TYPE\_CHECK\_MEMBER(\textcolor{keywordtype}{float}, TYPE\_FLOAT);}
\DoxyCodeLine{68     TYPE\_CHECK\_MEMBER(pointer, TYPE\_POINTER);}
\DoxyCodeLine{69     TYPE\_CHECK\_MEMBER(function, TYPE\_FUNCTION);}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 \textcolor{preprocessor}{    \#undef TYPE\_CHECK\_MEMBER}}
\DoxyCodeLine{72 \textcolor{preprocessor}{    \#pragma endregion}}
\DoxyCodeLine{73 }
\DoxyCodeLine{75     \mbox{\hyperlink{classevir_1_1Type}{Type}}* \mbox{\hyperlink{classevir_1_1Type_a695a872808fac9db85cd0b523bf9cf6f}{get\_pointer\_to}}(uint depth = 1);}
\DoxyCodeLine{76 }
\DoxyCodeLine{79     \textcolor{keyword}{virtual} String \mbox{\hyperlink{classevir_1_1Type_a64cc909abf597f3cb57387accec2dde6}{generate\_ir}}() = 0;}
\DoxyCodeLine{80 \};}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \textcolor{preprocessor}{\#pragma region subclasses}}
\DoxyCodeLine{83 }
\DoxyCodeLine{85 \textcolor{keyword}{class }\mbox{\hyperlink{classevir_1_1IntegerType}{IntegerType}} : \textcolor{keyword}{public} \mbox{\hyperlink{classevir_1_1Type}{Type}}}
\DoxyCodeLine{86 \{}
\DoxyCodeLine{87     \textcolor{keyword}{static} \textcolor{keyword}{const} TypeID type\_id = TYPE\_INTEGER;}
\DoxyCodeLine{88     uint64 bitwidth;}
\DoxyCodeLine{89     \textcolor{keywordtype}{bool} is\_signed;}
\DoxyCodeLine{90 }
\DoxyCodeLine{91     \textcolor{comment}{// IntegerType();}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{keyword}{public}:}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{96         MIN\_BITS\_COUNT = 1,}
\DoxyCodeLine{97         MAX\_BITS\_COUNT = (1 << 23)}
\DoxyCodeLine{98     \};}
\DoxyCodeLine{99 }
\DoxyCodeLine{100     \mbox{\hyperlink{classevir_1_1IntegerType}{IntegerType}}(\textcolor{keywordtype}{bool} is\_signed, uint64 bits\_count);}
\DoxyCodeLine{101     \textcolor{comment}{// static IntegerType* get(uint64 bits\_count, bool is\_signed);}}
\DoxyCodeLine{102 }
\DoxyCodeLine{103     \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classevir_1_1Type}{Type}}\& rhs);}
\DoxyCodeLine{104 }
\DoxyCodeLine{106     String \mbox{\hyperlink{classevir_1_1IntegerType_afc19ea269321a0b6eb5f0e00ce8b3aa8}{generate\_ir}}();}
\DoxyCodeLine{107 \};}
\DoxyCodeLine{108 }
\DoxyCodeLine{110 \textcolor{keyword}{class }\mbox{\hyperlink{classevir_1_1FloatType}{FloatType}} : \textcolor{keyword}{public} \mbox{\hyperlink{classevir_1_1Type}{Type}}}
\DoxyCodeLine{111 \{}
\DoxyCodeLine{112     \textcolor{keyword}{static} \textcolor{keyword}{const} TypeID type\_id = TYPE\_FLOAT;}
\DoxyCodeLine{113     uint64 bitwidth;}
\DoxyCodeLine{114 }
\DoxyCodeLine{115     \textcolor{comment}{// FloatType();}}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{keyword}{public}:}
\DoxyCodeLine{118 }
\DoxyCodeLine{120     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{121         HALF = 16,}
\DoxyCodeLine{122         FLOAT = 32,}
\DoxyCodeLine{123         DOUBLE = 64}
\DoxyCodeLine{124     \};}
\DoxyCodeLine{125 }
\DoxyCodeLine{126     \mbox{\hyperlink{classevir_1_1FloatType}{FloatType}}(uint64 bits\_count);}
\DoxyCodeLine{127     \textcolor{comment}{// static FloatType* get(uint64 bits\_count);}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129     \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classevir_1_1Type}{Type}}\& rhs);}
\DoxyCodeLine{130 }
\DoxyCodeLine{132     String \mbox{\hyperlink{classevir_1_1FloatType_ac62359e31d5162ae50e4399735a5f206}{generate\_ir}}();}
\DoxyCodeLine{133 \};}
\DoxyCodeLine{134 }
\DoxyCodeLine{136 \textcolor{keyword}{class }\mbox{\hyperlink{classevir_1_1PointerType}{PointerType}} : \textcolor{keyword}{public} \mbox{\hyperlink{classevir_1_1Type}{Type}}}
\DoxyCodeLine{137 \{}
\DoxyCodeLine{138     \textcolor{keyword}{static} \textcolor{keyword}{const} TypeID type\_id = TYPE\_POINTER;}
\DoxyCodeLine{139     \mbox{\hyperlink{classevir_1_1Type}{Type}}* subtype;}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     \textcolor{comment}{// FloatType();}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143 \textcolor{keyword}{public}:}
\DoxyCodeLine{144 }
\DoxyCodeLine{145     \mbox{\hyperlink{classevir_1_1PointerType}{PointerType}}(\mbox{\hyperlink{classevir_1_1Type}{Type}}* subtype);}
\DoxyCodeLine{146     \textcolor{comment}{// static FloatType* get(uint64 bits\_count);}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148     \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classevir_1_1Type}{Type}}\& rhs);}
\DoxyCodeLine{149 }
\DoxyCodeLine{151     String \mbox{\hyperlink{classevir_1_1PointerType_a5240ba4837883dda2d36c0038f33f720}{generate\_ir}}();}
\DoxyCodeLine{152 \};}
\DoxyCodeLine{153 }
\DoxyCodeLine{155 \textcolor{keyword}{class }\mbox{\hyperlink{classevir_1_1FunctionType}{FunctionType}} : \textcolor{keyword}{public} \mbox{\hyperlink{classevir_1_1Type}{Type}}}
\DoxyCodeLine{156 \{}
\DoxyCodeLine{157     \textcolor{keyword}{static} \textcolor{keyword}{const} TypeID type\_id = TYPE\_FUNCTION;}
\DoxyCodeLine{158     \mbox{\hyperlink{classevir_1_1Type}{Type}}* return\_type;}
\DoxyCodeLine{159     Vector<Type*> params;}
\DoxyCodeLine{160 }
\DoxyCodeLine{161     \textcolor{comment}{// FunctionType();}}
\DoxyCodeLine{162 }
\DoxyCodeLine{163 \textcolor{keyword}{public}:}
\DoxyCodeLine{164 }
\DoxyCodeLine{165     \mbox{\hyperlink{classevir_1_1FunctionType}{FunctionType}}(\mbox{\hyperlink{classevir_1_1Type}{Type}}* return\_type, Vector<Type*> params);}
\DoxyCodeLine{166     \textcolor{comment}{// static FloatType* get(uint64 bits\_count);}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168     \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} \mbox{\hyperlink{classevir_1_1Type}{Type}}\& rhs);}
\DoxyCodeLine{169 }
\DoxyCodeLine{171     String \mbox{\hyperlink{classevir_1_1FunctionType_a620e0378477eafbc65e49565a6fcdcc5}{generate\_ir}}();}
\DoxyCodeLine{172 \};}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{preprocessor}{\#pragma endregion}}
\DoxyCodeLine{175 }
\DoxyCodeLine{176 \}}
\DoxyCodeLine{177 }
\DoxyCodeLine{178 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EVIR\_IR\_TYPE\_H}}

\end{DoxyCode}
