\hypertarget{comment_8hpp_source}{}\doxysection{comment.\+hpp}
\label{comment_8hpp_source}\index{include/ir/comment.hpp@{include/ir/comment.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//===-\/-\/-\/ ir/comment.hpp -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ C++ -\/-\/-\/===}}
\DoxyCodeLine{2 \textcolor{comment}{// This header is part of the EvIr library}}
\DoxyCodeLine{3 \textcolor{comment}{// MIT License -\/ Sjoerd Vermeulen (2022)}}
\DoxyCodeLine{4 \textcolor{comment}{// For more info see https://github.com/SjVer/EvIr}}
\DoxyCodeLine{5 \textcolor{comment}{//===-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/===}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#ifndef EVIR\_IR\_COMMENT\_H}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#define EVIR\_IR\_COMMENT\_H}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define \_\_EVIR\_HEADER}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}evir/.common.hpp"{}}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#define \_IR\_COMMENT\_LENGTH 49}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define \_IR\_HCOMMENT\_LENGTH 50}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define \_IR\_HCOMMENT\_SURROUND\_CHAR '='}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define \_IR\_HCOMMENT\_MIN\_SURROUND 3}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{keyword}{namespace }evir \{}
\DoxyCodeLine{19 }
\DoxyCodeLine{24 \textcolor{keyword}{static} String generate\_ir\_comment(String text, \textcolor{keywordtype}{bool} header = \textcolor{keyword}{false})}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26     \textcolor{keywordtype}{int} max\_sentence\_size = header ? \_IR\_HCOMMENT\_LENGTH -\/ 2 * \_IR\_HCOMMENT\_MIN\_SURROUND -\/ 2}
\DoxyCodeLine{27                                    : \_IR\_COMMENT\_LENGTH;}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{comment}{// separate text in sentences}}
\DoxyCodeLine{30     Vector<String> sentences = Vector<String>();}
\DoxyCodeLine{31     String sentence = text;}
\DoxyCodeLine{32     \textcolor{keywordflow}{while}(sentence.length() > max\_sentence\_size)}
\DoxyCodeLine{33     \{}
\DoxyCodeLine{34         \textcolor{comment}{// too long, find whitespace to split sentences}}
\DoxyCodeLine{35         \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{36         \textcolor{keywordflow}{for}(i = max\_sentence\_size -\/ 1; i > 0 \&\& sentence[i] != \textcolor{charliteral}{' '}; i-\/-\/) \{\}}
\DoxyCodeLine{37 }
\DoxyCodeLine{38         sentences.push\_back(tools::trimc(sentence.substr(0, i)));}
\DoxyCodeLine{39         sentence.erase(0, i);}
\DoxyCodeLine{40     \}}
\DoxyCodeLine{41     sentences.push\_back(tools::trimc(sentence));}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{comment}{// generate comment(s)}}
\DoxyCodeLine{44     \textcolor{keywordflow}{if}(header)}
\DoxyCodeLine{45     \{}
\DoxyCodeLine{46         \textcolor{keywordflow}{if}(sentences.size() == 1)}
\DoxyCodeLine{47         \{}
\DoxyCodeLine{48             SStream stream = SStream();}
\DoxyCodeLine{49 }
\DoxyCodeLine{50             \textcolor{keywordtype}{int} len = sentence.length() + 2;}
\DoxyCodeLine{51             \textcolor{keywordtype}{int} surround\_chars = \_IR\_HCOMMENT\_LENGTH -\/ len;}
\DoxyCodeLine{52             \textcolor{keywordtype}{int} start\_surround\_chars = surround\_chars / 2;}
\DoxyCodeLine{53             \textcolor{keywordtype}{int} end\_surround\_chars = surround\_chars -\/ start\_surround\_chars;}
\DoxyCodeLine{54 }
\DoxyCodeLine{55             stream << \textcolor{stringliteral}{"{}; "{}} << String(start\_surround\_chars, \_IR\_HCOMMENT\_SURROUND\_CHAR);}
\DoxyCodeLine{56             stream << \textcolor{stringliteral}{"{} "{}} << sentence << \textcolor{stringliteral}{"{} "{}};}
\DoxyCodeLine{57             stream << String(end\_surround\_chars, \_IR\_HCOMMENT\_SURROUND\_CHAR) << endl;}
\DoxyCodeLine{58 }
\DoxyCodeLine{59             \textcolor{keywordflow}{return} stream.str();}
\DoxyCodeLine{60         \}}
\DoxyCodeLine{61         \textcolor{keywordflow}{else}}
\DoxyCodeLine{62         \{}
\DoxyCodeLine{63             SStream stream = SStream();}
\DoxyCodeLine{64             \textcolor{keywordflow}{for}(\textcolor{keyword}{const} String\& sentence : sentences)}
\DoxyCodeLine{65             \{}
\DoxyCodeLine{66                 \textcolor{keywordtype}{int} end\_whitespaces = \_IR\_HCOMMENT\_LENGTH -\/ (}
\DoxyCodeLine{67                     2 * \_IR\_HCOMMENT\_MIN\_SURROUND + 1 + sentence.length()); }
\DoxyCodeLine{68 }
\DoxyCodeLine{69                 stream << \textcolor{stringliteral}{"{}; "{}} << String(\_IR\_HCOMMENT\_MIN\_SURROUND, \_IR\_HCOMMENT\_SURROUND\_CHAR);}
\DoxyCodeLine{70                 stream << \textcolor{charliteral}{' '} << sentence << String(end\_whitespaces, \textcolor{charliteral}{' '});}
\DoxyCodeLine{71                 stream << String(\_IR\_HCOMMENT\_MIN\_SURROUND, \_IR\_HCOMMENT\_SURROUND\_CHAR);}
\DoxyCodeLine{72                 stream << endl;}
\DoxyCodeLine{73             \}}
\DoxyCodeLine{74             \textcolor{keywordflow}{return} stream.str();}
\DoxyCodeLine{75         \}}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77     \textcolor{keywordflow}{else}}
\DoxyCodeLine{78     \{}
\DoxyCodeLine{79         \textcolor{keywordflow}{if}(sentences.size() == 1) \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}; "{}} + sentence + endl;}
\DoxyCodeLine{80         \textcolor{keywordflow}{else}}
\DoxyCodeLine{81         \{}
\DoxyCodeLine{82             SStream stream = SStream();}
\DoxyCodeLine{83             \textcolor{keywordflow}{for}(\textcolor{keyword}{const} String\& sentence : sentences)}
\DoxyCodeLine{84             \{}
\DoxyCodeLine{85                 stream << \textcolor{stringliteral}{"{}; "{}} << sentence;}
\DoxyCodeLine{86                 stream << endl;}
\DoxyCodeLine{87             \}}
\DoxyCodeLine{88             \textcolor{keywordflow}{return} stream.str();}
\DoxyCodeLine{89         \}}
\DoxyCodeLine{90     \}}
\DoxyCodeLine{91 \}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EVIR\_IR\_COMMENT\_H}}

\end{DoxyCode}
